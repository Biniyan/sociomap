<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nepal Academic GIS</title>
    <script>
      // Workaround for "Cannot set property fetch of #<Window> which has only a getter"
      // This error can happen if a library tries to polyfill fetch.
      (function() {
        try {
          const descriptor = Object.getOwnPropertyDescriptor(window, 'fetch');
          if (descriptor && !descriptor.writable && !descriptor.set) {
            console.log('Protecting window.fetch from being overwritten');
            const originalFetch = window.fetch;
            Object.defineProperty(window, 'fetch', {
              configurable: true,
              enumerable: true,
              get: () => originalFetch,
              set: (v) => { 
                console.warn('Prevented attempt to overwrite window.fetch');
              }
            });
          }
        } catch (e) {
          // Ignore errors during protection
        }
      })();
    </script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

